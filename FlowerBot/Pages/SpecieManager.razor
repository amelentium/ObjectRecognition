@page "/species"
@inject IJSRuntime JS
@inject ISpeciesContext SpeciesContext

<PageTitle>Species</PageTitle>
<h3>Specie Manager</h3>
<br />
<div class="row">
    <div class="col-md-4" style="max-width: 250px">
        <div class="form-group">
            <select class="form-select" size="25" >
                @foreach (var specie in SpeciesContext.Species)
                {
                    <option value="@specie.Key">@specie.Value</option>        
                }
            </select>
        </div>
        <div class="form-group" style="display:flex; justify-content:space-evenly">
            <button class="btn btn-primary">Update</button>
            <button class="btn btn-danger">Remove</button>
        </div>
    </div>
    <div class="col-md-8">
        <form enctype="multipart/form-data" method="post" action="/api/file-manager/species">
            <div class="form-group">
                <label for="Name">Name</label>
                <input id="Name" name="Name" class="form-control" type="text"  placeholder="Flower name" style="max-width:250px"/>
            </div>
            <div class="form-group">
                <label for="Images">Images</label>
                <input id="Images" name="Images" class="form-control-file" accept="image/png, image/jpeg, image/jpg" type="file" multiple/>
            </div>
            <div id="ImagesPreview" class="form-group">
            </div>
            <div>
                <input class="btn btn-primary" type="submit" value="Upload" />
            </div>
        </form>
    </div>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeAsync<IJSObjectReference>("import", "./Pages/SpecieManager.razor.js");
        }
    }
}